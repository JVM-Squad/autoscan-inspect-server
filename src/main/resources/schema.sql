-- naming rule : [A-Z]{2}_[A-Z]{3}(_[A-Z]{3})* (english)

CREATE TABLE IF NOT EXISTS E_MAIN_SES ( --E_MAIN_SES
	ID_SES VARCHAR,
	VA_NAME VARCHAR, --VA_NAM
	VA_USR VARCHAR,
	DH_DBT TIMESTAMP(6), --DH_STR
	DH_FIN TIMESTAMP(6), --DH_END
	LNCH VARCHAR,  --VA_TYP
	LOC VARCHAR,  --VA_LCT
	VA_THRED VARCHAR, --VA_THR
	VA_ERR_CLS VARCHAR,  --VA_ERR_TYP
	VA_ERR_MSG VARCHAR,
	CD_INS_ENV VARCHAR --CD_INS
);

CREATE TABLE IF NOT EXISTS E_API_SES ( --E_RST_SES
	ID_SES VARCHAR,
	VA_MTH VARCHAR,
	VA_PRTCL VARCHAR, --VA_PCL
	VA_HST VARCHAR,
	CD_PRT INT,
	VA_PTH VARCHAR,
	VA_QRY VARCHAR,
	VA_CNT_TYP VARCHAR,
	VA_AUTH VARCHAR, --VA_ATH
	CD_STT INT,
	VA_I_SZE BIGINT,
	VA_O_SZE BIGINT,
	VA_I_CNT_ENC VARCHAR,
	VA_O_CNT_ENC VARCHAR,
	DH_DBT TIMESTAMP(6), --DH_STR
	DH_FIN TIMESTAMP(6), --DH_END
	VA_THRED VARCHAR,  --VA_THR
	VA_ERR_CLS VARCHAR, --VA_ERR_TYP
	VA_ERR_MSG VARCHAR,
	VA_API_NME VARCHAR, --VA_NAM
	VA_USR VARCHAR,
	VA_USR_AGT VARCHAR,
	CD_INS_ENV VARCHAR --CD_INS
);

CREATE TABLE IF NOT EXISTS E_API_REQ ( --E_RST_RQT
	VA_MTH VARCHAR,
	VA_PRTCL VARCHAR,  --VA_PCL
	VA_HST VARCHAR,
	CD_PRT INT,
	VA_PTH VARCHAR,
	VA_QRY VARCHAR,
	VA_CNT_TYP VARCHAR, 
	VA_AUTH VARCHAR, --VA_ATH_SCH : scheme
	CD_STT INT,
	VA_I_SZE BIGINT,
	VA_O_SZE BIGINT,
	VA_I_CNT_ENC VARCHAR,
	VA_O_CNT_ENC VARCHAR,
	DH_DBT TIMESTAMP(6),   --DH_STR
	DH_FIN TIMESTAMP(6),   --DH_END   
	VA_THRED VARCHAR,   --VA_THR
	VA_ERR_CLS VARCHAR, --VA_ERR_TYP
	VA_ERR_MSG VARCHAR, 
	CD_SES VARCHAR, -- Parent
	CD_API VARCHAR -- NUll  --CD_RMT_SES : remote session
);

CREATE TABLE IF NOT EXISTS E_DB_REQ ( --E_DTB_RQT
	ID_OUT_QRY BIGINT, --ID_DTB_RQT
	VA_HST VARCHAR,
	CD_PRT INT,
	VA_DB VARCHAR,  --VA_DTB
	DH_DBT TIMESTAMP(6), --DH_STR
	DH_FIN TIMESTAMP(6), --DH_END
	VA_USR VARCHAR,
	VA_THRED VARCHAR, --VA_THR
	VA_DRV VARCHAR,
	VA_DB_NME VARCHAR, --VA_PRD_NAM
	VA_DB_VRS VARCHAR, --VA_PRD_VRS
	VA_CMD VARCHAR,
  VA_CMPLT CHAR, --VA_CPT
	CD_SES VARCHAR
);

CREATE TABLE IF NOT EXISTS E_STG ( --E_LCL_RQS
    VA_NAME VARCHAR,  --VA_NAM
    LOC VARCHAR,   --VA_LCT
    DH_DBT TIMESTAMP(6),  --DH_STR
    DH_FIN TIMESTAMP(6),  --DH_END
    VA_USR VARCHAR,
    VA_THRED VARCHAR,  --VA_THR
    VA_ERR_CLS VARCHAR,  --VA_ERR_TYP
    VA_ERR_MSG VARCHAR,
    CD_SES VARCHAR
);

CREATE TABLE IF NOT EXISTS E_DB_ACT ( -- E_DTB_STG
	VA_TYP VARCHAR, --VA_NAME
	DH_DBT TIMESTAMP(6),   --DH_STR
	DH_FIN TIMESTAMP(6),   --DH_END
	VA_ERR_CLS VARCHAR, --VA_ERR_TYP
	VA_ERR_MSG VARCHAR,
	CD_COUNT VARCHAR, --VA_CNT
	CD_OUT_QRY BIGINT --CD_DTB_RQT
);

CREATE TABLE IF NOT EXISTS E_INS_ENV (
    ID_INS_ENV VARCHAR, --ID_INS
    VA_TYP VARCHAR,
    DH_DBT TIMESTAMP(6), --DH_STR
    VA_APP_NME VARCHAR, --VA_APP
    VA_VRS VARCHAR,
    VA_ADRS VARCHAR, --VA_ADR
    VA_ENV VARCHAR,
    VA_OS VARCHAR,
    VA_RE VARCHAR,
    VA_USR VARCHAR,
    VA_CLCT VARCHAR --VA_CLT
);
