CREATE TABLE E_IN_REQ (
    ID_IN_REQ VARCHAR(36) PRIMARY KEY,
    VA_URL VARCHAR(255) NOT NULL, --2K
    VA_MTH VARCHAR(10) NOT NULL ,
    CD_STT INT NOT NULL,
    VA_SZE BIGINT NOT NULL,
    DH_DBT TIMESTAMP NOT NULL,
    DH_FIN TIMESTAMP NOT NULL,
    VA_CNT_TYP VARCHAR(255) NOT NULL,
    VA_APP VARCHAR(255)  ,
    VA_ACT VARCHAR(255 )NOT NULL , --endpoint
    VA_RSC VARCHAR(255) NOT NULL ,
    VA_CLI VARCHAR(255) NOT NULL,
    VA_QRY VARCHAR(255) NOT NULL
);

CREATE TABLE E_OUT_REQ (
    ID_OUT_REQ VARCHAR(36) PRIMARY KEY,
    VA_URL VARCHAR(255) NOT NULL,
    VA_MTH VARCHAR(10) NOT NULL ,
    CD_STT INT NOT NULL,
    VA_SZE BIGINT NOT NULL,
    DH_DBT TIMESTAMP NOT NULL,
    DH_FIN TIMESTAMP NOT NULL,
    CD_IN_REQ VARCHAR(36) NOT NULL,
    FOREIGN KEY (CD_IN_REQ) REFERENCES E_IN_REQ(ID_IN_REQ)
);

CREATE TABLE E_OUT_QRY (
    ID_OUT_QRY BIGINT AUTO_INCREMENT,
    VA_URL VARCHAR (255) NOT NULL,
    DH_DBT TIMESTAMP NOT NULL,
    DH_FIN TIMESTAMP NOT NULL,
    CD_IN_REQ VARCHAR(36) NOT NULL,
    FOREIGN KEY (CD_IN_REQ) REFERENCES E_IN_REQ(ID_IN_REQ)
);

CREATE TABLE  E_DB_ACT(
    VA_TYP VARCHAR(255) NOT NULL,
    DH_DBT TIMESTAMP NOT NULL,
    DH_FIN TIMESTAMP NOT NULL,
    VA_FAIL  BOOLEAN NOT NULL,
    CD_OUT_QRY BIGINT NOT NULL,
    FOREIGN KEY (CD_OUT_QRY) REFERENCES E_OUT_QRY(ID_OUT_QRY)
);

